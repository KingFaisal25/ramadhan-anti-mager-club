<!doctype html>
<html lang="id">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Checklist Harian â€¢ Ramadhan Anti Mager Club ğŸŒ™</title>
  <meta name="description" content="Checklist ibadah harian Neng & Aa â€” Ramadhan Anti Mager Club" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800;900&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="assets/css/style.css" />
</head>

<body>
  <canvas class="bg-canvas" id="starsCanvas" aria-hidden="true"></canvas>
  <div class="bg-noise" aria-hidden="true"></div>

  <header class="topbar">
    <div class="topbar-inner">
      <div class="brand">
        <div class="mark keychain" id="avatarMark" aria-hidden="true">ğŸŒ™</div>
        <div class="title">
          <div style="font-size:16px;">âœ… Checklist Harian</div>
          <small id="dayLabel">Hari ke-</small>
        </div>
      </div>
      <div class="actions">
        <div class="seg" aria-label="Navigasi hari">
          <button type="button" class="seg-btn" id="prevDayBtn">â—€ Kemarin</button>
          <button type="button" class="seg-btn" id="todayBtn">Hari ini</button>
          <button type="button" class="seg-btn" id="nextDayBtn">Besok â–¶</button>
        </div>
        <a class="btn secondary" href="index.html" aria-label="Dashboard">ğŸ </a>
        <a class="btn secondary" href="leaderboard.html" aria-label="Leaderboard">ğŸ†</a>
      </div>
    </div>
  </header>

  <main class="app">
    <div class="container">
      <!-- Top info card -->
      <section class="card glow">
        <div class="row between wrap">
          <div>
            <div class="pill" id="datePill">â€”</div>
            <h1 class="h1" style="margin-top:10px;">Checklist Ramadhan</h1>
            <div class="subtle" id="subInfo">Neng &amp; Aa â€” realtime dari Supabase</div>
          </div>
          <div class="row" style="gap:10px;">
            <span class="badge" id="netBadge" style="display:none;">Offline</span>
          </div>
        </div>

        <div class="divider"></div>

        <!-- View filter + add button -->
        <div class="row between wrap" style="margin-bottom:12px; gap:10px;">
          <div class="seg" aria-label="Filter tampilan">
            <button type="button" class="seg-btn active" id="viewAllBtn">Semua</button>
            <button type="button" class="seg-btn" id="viewNengBtn">ğŸ‘© Neng</button>
            <button type="button" class="seg-btn" id="viewAaBtn">ğŸ‘¨ Aa</button>
          </div>
          <button class="btn secondary" type="button" id="addItemBtn">ï¼‹ Target Personal</button>
        </div>

        <!-- Progress stats dengan fitur tambahan -->
        <div id="statsGrid" class="grid cols-2" style="gap:12px;">
          <!-- Neng card dengan fitur expanded -->
          <div class="card" id="nengStatCard" style="box-shadow:none;">
            <div class="row between wrap">
              <div class="row" style="gap:10px;">
                <div
                  style="width:42px;height:42px;border-radius:16px;display:grid;place-items:center;background:rgba(255,253,245,.06);border:1px solid rgba(245,158,11,.18);font-size:18px;">
                  ğŸ‘©</div>
                <div>
                  <div style="font-weight:900;font-size:16px;">Neng</div>
                  <div class="small muted" id="nengSub">â€”</div>
                </div>
              </div>
              <div class="row" style="gap:8px;">
                <span class="badge" id="nengPts">0 pts</span>
                <button class="btn-icon" id="nengExpandBtn" aria-label="Lihat detail progress Neng" title="Lihat detail">ğŸ“Š</button>
              </div>
            </div>
            <div class="divider"></div>
            <div class="row between">
              <span class="muted" id="nengCount">0/27</span>
              <span class="badge" id="nengPct">0%</span>
            </div>
            <div class="progress" style="margin-top:10px;"><i id="nengBar"></i></div>
            
            <!-- Detail progress yang expandable -->
            <div id="nengProgressDetail" style="display:none; margin-top:12px; padding-top:12px; border-top:1px solid rgba(255,255,255,0.1);">
              <div class="small muted">ğŸ“Š Detail Progress:</div>
              <div class="grid" style="grid-template-columns:1fr 1fr; gap:6px; margin-top:8px;" id="nengCategoryStats">
                <!-- Diisi oleh JavaScript -->
              </div>
            </div>
          </div>

          <!-- Aa card dengan fitur expanded -->
          <div class="card" id="aaStatCard" style="box-shadow:none;">
            <div class="row between wrap">
              <div class="row" style="gap:10px;">
                <div
                  style="width:42px;height:42px;border-radius:16px;display:grid;place-items:center;background:rgba(255,253,245,.06);border:1px solid rgba(245,158,11,.18);font-size:18px;">
                  ğŸ‘¨</div>
                <div>
                  <div style="font-weight:900;font-size:16px;">Aa</div>
                  <div class="small muted" id="aaSub">â€”</div>
                </div>
              </div>
              <div class="row" style="gap:8px;">
                <span class="badge" id="aaPts">0 pts</span>
                <button class="btn-icon" id="aaExpandBtn" aria-label="Lihat detail progress Aa" title="Lihat detail">ğŸ“Š</button>
              </div>
            </div>
            <div class="divider"></div>
            <div class="row between">
              <span class="muted" id="aaCount">0/27</span>
              <span class="badge" id="aaPct">0%</span>
            </div>
            <div class="progress" style="margin-top:10px;"><i id="aaBar"></i></div>
            
            <!-- Detail progress yang expandable -->
            <div id="aaProgressDetail" style="display:none; margin-top:12px; padding-top:12px; border-top:1px solid rgba(255,255,255,0.1);">
              <div class="small muted">ğŸ“Š Detail Progress:</div>
              <div class="grid" style="grid-template-columns:1fr 1fr; gap:6px; margin-top:8px;" id="aaCategoryStats">
                <!-- Diisi oleh JavaScript -->
              </div>
            </div>
          </div>
        </div>
        
        <!-- Quick actions dan summary -->
        <div class="card" style="margin-top:12px; background:rgba(255,253,245,0.03);">
          <div class="row between wrap">
            <div>
              <div class="small muted">âš¡ Quick Actions</div>
              <div style="font-weight:600;font-size:14px;">Akses Cepat</div>
            </div>
            <div class="row" style="gap:8px;">
              <button class="btn secondary small" id="markAllBtn" title="Tandai semua sebagai selesai">âœ… Semua</button>
              <button class="btn secondary small" id="unmarkAllBtn" title="Reset semua checklist">ğŸ”„ Reset</button>
              <button class="btn secondary small" id="exportBtn" title="Export progress">ğŸ“¤ Export</button>
            </div>
          </div>
          <div class="divider" style="margin:10px 0;"></div>
          <div class="grid cols-3" style="gap:8px;" id="quickStats">
            <div class="text-center">
              <div class="small muted">Total Points</div>
              <div style="font-weight:700;" id="totalPoints">0</div>
            </div>
            <div class="text-center">
              <div class="small muted">Completed</div>
              <div style="font-weight:700;" id="totalCompleted">0/54</div>
            </div>
            <div class="text-center">
              <div class="small muted">Streak</div>
              <div style="font-weight:700;" id="currentStreak">0 days</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Categories rendered by JS -->
      <section class="grid" style="margin-top:14px; gap:14px;" id="categoriesWrap" aria-live="polite"></section>
    </div>
  </main>



  <canvas class="confetti-layer" id="confettiCanvas" aria-hidden="true"></canvas>
  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <script src="config.js"></script>
  <script src="assets/js/supabase-client.js"></script>
  <script src="assets/js/sync-manager.js"></script>
  <script src="assets/js/data.js"></script>
  <script src="assets/js/checklist.js"></script>
  <script src="assets/js/music-client.js"></script>
</body>

</html>